CREATE OR REPLACE FUNCTION updateVersionNr() RETURNS trigger AS '
	BEGIN
		IF TG_OP = ''UPDATE'' THEN
			IF NOT NEW.VersionNr = OLD.VersionNr THEN
				RAISE EXCEPTION ''VersionNrError on ObjId % in table %'', NEW.ObjId, TG_RELNAME;
			END IF;
		END IF;
	
		NEW.VersionNr := NEW.VersionNr + 1;
		return NEW;
	END;
' LANGUAGE 'plpgsql';
