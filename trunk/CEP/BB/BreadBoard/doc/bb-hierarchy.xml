<?xml version="1.0"?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN"
 "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd" 
 >

<!-- $Id$ -->
<!-- look at bottom for revision Log. -->
<article lang="nl">
 <artheader>
  <title></title>
  <author>
   <firstname>Daan</firstname>
   <surname>Hoogland</surname>
  </author>
  <releaseinfo>
   <para>
    $Id$
   </para>
  </releaseinfo>

  <!-- makes a summary from the content -->
  <abstract>
   <para>

    The selfcal Blackboard for the LOFAR project will have a
    hierarchical organisation. The structure thereof is described in
    this document.

   </para>
  </abstract>
 </artheader>

 <section>
  <title>distribution over nodes and sub-clusters</title>
  <para>

   For performance reasons we want to divide the measurement data over
   the cluster in a way that distributes the disk-usage and minimizes
   the network-usage.

  </para>

  <para>

   Logically there is only one Blackboard. It is a distributed
   application however, each instance dividing it's workload to it's
   own liking. Each blackboard <note>no capital here</note> knows what
   nodes it has to start KnowledgeSources on.

  </para>

  <para>

   For this to work it has to be possible to distribute responsibility
   in this fashion as well. For instance; If a blackboard has
   responsibility for a certain time-frame, it must be able to change
   any time dependent parameters at will as long as they fall
   completely in this time frame. <note>Continuity in a function for a
   parameter over time will pose a problem at the edges of the time
   frame.</note>

  </para>

 </section>

 <section>
  <title>Workload distribution</title>
  <para>

   The workload for a self-calibration process, might be distributed
   in several ways. It is a design choice to decide that only
   partitioning to data, as opposed to partitioning to parameters, is
   opportune. This is based on the order of magnitude that the volume
   of data is bigger then the amount of parameters. The data has a
   limited number of dimensions. <note>The number of dimensions is four as far as
   we can tell right now</note> These are.

   <itemizedlist>
    <listitem>
     <para>
      time
     </para>
    </listitem>
    <listitem>
     <para>
      frequency
     </para>
    </listitem>
    <listitem>
     <para>
      baseline
     </para>
    </listitem>
    <listitem>
     <para>
      observatory-direction
     </para>
    </listitem>
   </itemizedlist>

   The Blackboard will be configured to delegate tasks to children,
   divided along one of these dimensions.<note>It doesn't seem
   necessary to divide along a dimension more then once.</note>

  </para>
 </section>

 <section>
  <title>controllers</title>
  <para>

   A Blackboard has a controller that can be asked to start a process
   for a blackboard. Such a process can be a child-blackboard
   including its controller, or one of the knowledge sources
   associated with the blackboard.

  </para>
 </section>

 <mediaobject>
  <imageobject>
   <imagedata fileref="start.usecase.png" format="PNG" />
   </imageobject>
  <caption>start of systeem</caption>
 </mediaobject>

</article>