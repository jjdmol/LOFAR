[cep2_datamapper]
recipe = cep2_datamapper
mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/data.mapfile

[datamapper]
recipe = datamapper
mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/data.mapfile

[ndppp]
recipe = dppp
executable = %(lofarroot)s/bin/NDPPP
dry_run = False
mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/dppp.mapfile
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/NDPPP.parset
#demix_always =
#demix_if_needed = CasA
nproc = 1
nthreads = 8
clobber = False

[bbs]
recipe = bbs
control_exec = %(lofarroot)s/bin/GlobalControl
kernel_exec = %(lofarroot)s/bin/KernelControl
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/bbs.parset
key = bbs_%(job_name)s
db_host = ldb001
db_name = $ENV{USER}
db_user = postgres
makevds = %(lofarroot)s/bin/makevds
combinevds = %(lofarroot)s/bin/combinevds
makesourcedb = %(lofarroot)s/bin/makesourcedb
parmdbm = %(lofarroot)s/bin/parmdbm

[vdsreader]
recipe = vdsreader
gvds = %(runtime_directory)s/jobs/%(job_name)s/vds/%(job_name)s.gvds

[setupparmdb]
recipe = setupparmdb
executable = %(lofarroot)s/bin/parmdbm
mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/parmdb.mapfile

[setupsourcedb]
recipe = setupsourcedb
executable = %(lofarroot)s/bin/makesourcedb
mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/sky.mapfile

[skymodel]
recipe = skymodel
min_flux = 0.5
skymodel_file = %(runtime_directory)s/jobs/%(job_name)s/parsets/bbs.skymodel

[vdsmaker]
recipe = vdsmaker
directory = %(runtime_directory)s/jobs/%(job_name)s/vds
gvds = %(runtime_directory)s/jobs/%(job_name)s/vds/%(job_name)s.gvds
makevds = %(lofarroot)s/bin/makevds
combinevds = %(lofarroot)s/bin/combinevds

[cimager]
recipe = cimager
imager_exec = /opt/LofIm/daily/askapsoft/bin/cimager.sh
convert_exec = /opt/LofIm/daily/lofar/bin/convertimagerparset
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/mwimager.parset
results_dir = %(runtime_directory)s/jobs/%(job_name)s/results/%(start_time)s

[flag_baseline]
recipe = flag_baseline

[demixing]
recipe = demixing
demix_parset_dir = %(lofarroot)s/share/pipeline/demixing
db_host = ldb001
skymodel = %(lofarroot)s/share/pipeline/skymodels/Ateam_LBA_CC.skymodel
demix_sources = CasA,CygA
mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/demix.mapfile
nproc=1

[new_bbs]
recipe = new_bbs
control_exec = %(lofarroot)s/bin/GlobalControl
kernel_exec = %(lofarroot)s/bin/KernelControl
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/BBS.parset
gvds = %(runtime_directory)s/jobs/%(job_name)s/vds/%(job_name)s.gvds
db_key = %(job_name)s
db_host = ldb001
db_user = postgres
db_name = $ENV{USER}
instrument_mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/instrument.mapfile
sky_mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/sky.mapfile
data_mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/bbs.mapfile

[gainoutliercorrection]
recipe = gainoutliercorrection
executable = '' # Comment out the executable, for now use the  editparmdb behaviour. #%(lofarroot)s/bin/parmexportcal
mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/instrument.mapfile

[parmexportcal]
recipe = parmexportcal
executable = %(lofarroot)s/bin/parmexportcal
mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/instrument.mapfile

[rficonsole]
recipe = rficonsole
executable = %(lofarroot)s/bin/rficonsole

[get_metadata]
recipe = get_metadata

[imager_prepare]
recipe = imager_prepare
ndppp_exec = %(lofarroot)s/bin/NDPPP
asciistat_executable = %(lofarroot)s/bin/asciistats.py
statplot_executable = %(lofarroot)s/bin/statsplot.py
msselect_executable = %(lofarroot)s/bin/msselect
rficonsole_executable = %(lofarroot)s/bin/rficonsole

[imager_awimager]
recipe = imager_awimager
executable = %(lofarroot)s/bin/awimager

[imager_create_dbs]
recipe = imager_create_dbs
parmdb_executable = %(lofarroot)s/bin/parmdbm
makesourcedb_path = %(lofarroot)s/bin/makesourcedb

[imager_bbs]
recipe = imager_bbs
bbs_executable = %(lofarroot)s/bin/bbs-reducer
  
[imager_source_finding]
recipe = imager_source_finding
makesourcedb_path = %(lofarroot)s/bin/makesourcedb

[imager_finalize]
recipe = imager_finalize
fillrootimagegroup_exec = %(lofarroot)s/bin/fillRootImageGroup

[copier]
recipe = copier
mapfiles_dir = %(runtime_directory)s/jobs/%(job_name)s/mapfiles

[bbs_reducer]
recipe = bbs_reducer
executable = %(lofarroot)s/bin/bbs-reducer
parset = %(runtime_directory)s/jobs/%(job_name)s/parsets/bbs.parset
instrument_mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/instrument.mapfile
sky_mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/sky.mapfile
data_mapfile = %(runtime_directory)s/jobs/%(job_name)s/mapfiles/bbs.mapfile

