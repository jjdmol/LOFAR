<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
    <head>
	<style type="text/css">
pre
{
	font-face: verdana, arial, helvetica, sans-serif;
}
.token_number
{
	color: #0080C0;
}
.token_op
{
	color: #0000DD;
}
.token_string
{
	color: #cc0000;
}
.token_comment
{
	color: #999;
}
.token_name
{
	color: #000000;
}
.token_error
{
	color: #FF8080;
}
.keyword
{
	color: blue;
	font-weight:bold;
}
.text
{
	color: #000000;
}
	</style>

<title>simpletest.py</title>
<link rel="schema.DC" href="http://purl.org/DC/elements/1.0/" />
<meta name="DC.Language" content="en" />
<meta name="DC.Format" content="text/html" />
<meta name="DC.Type" content="Software" />
<meta name="DC.Title" content="Python source of simpletest.py" />
<meta name="DC.Creator" content="Unknown" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	</head>
<body><pre><code><span class="token_name">__rcsid__</span><span class="token_op">=</span><span class="token_string">"$Id: simpletest_py.html 38 2007-02-01 01:46:52Z phil $"</span>

<span class="keyword">import</span> <span class="token_name">simple_ext</span><span class="token_op">,</span><span class="token_name">numpy</span>

<span class="keyword">print</span> <span class="token_string">"\n--send arrays from C++ to python: --\n"</span>
<span class="keyword">print</span> <span class="token_name">simple_ext</span><span class="token_op">.</span><span class="token_name">testToPython</span><span class="token_op">(</span><span class="token_op">)</span>

<span class="keyword">print</span> <span class="token_string">"\n--send array from python to C++:-- \n"</span>

<span class="token_name">theArray</span><span class="token_op">=</span><span class="token_name">numpy</span><span class="token_op">.</span><span class="token_name">array</span><span class="token_op">(</span><span class="token_op">[</span><span class="token_number">1</span><span class="token_op">,</span><span class="token_number">2</span><span class="token_op">,</span><span class="token_number">3</span><span class="token_op">,</span><span class="token_number">4</span><span class="token_op">]</span><span class="token_op">,</span><span class="token_name">dtype</span><span class="token_op">=</span><span class="token_name">float</span><span class="token_op">)</span>
<span class="token_name">theArray</span><span class="token_op">.</span><span class="token_name">shape</span><span class="token_op">=</span><span class="token_op">[</span><span class="token_number">2</span><span class="token_op">,</span><span class="token_number">2</span><span class="token_op">]</span>
<span class="token_name">simple_ext</span><span class="token_op">.</span><span class="token_name">testFromPython</span><span class="token_op">(</span><span class="token_name">theArray</span><span class="token_op">)</span>

<span class="keyword">print</span> <span class="token_string">"\n--send the wrong type --\n"</span>
<span class="keyword">from</span> <span class="token_name">traceback</span> <span class="keyword">import</span> <span class="token_name">print_exc</span>
<span class="token_name">theArray</span><span class="token_op">=</span><span class="token_name">numpy</span><span class="token_op">.</span><span class="token_name">array</span><span class="token_op">(</span><span class="token_op">[</span><span class="token_number">1</span><span class="token_op">,</span><span class="token_number">2</span><span class="token_op">,</span><span class="token_number">3</span><span class="token_op">,</span><span class="token_number">4</span><span class="token_op">]</span><span class="token_op">,</span><span class="token_name">dtype</span><span class="token_op">=</span><span class="token_name">int</span><span class="token_op">)</span>
<span class="token_name">theArray</span><span class="token_op">.</span><span class="token_name">shape</span><span class="token_op">=</span><span class="token_op">[</span><span class="token_number">2</span><span class="token_op">,</span><span class="token_number">2</span><span class="token_op">]</span>
<span class="keyword">try</span><span class="token_op">:</span>
    <span class="token_name">simple_ext</span><span class="token_op">.</span><span class="token_name">testFromPython</span><span class="token_op">(</span><span class="token_name">theArray</span><span class="token_op">)</span>
<span class="keyword">except</span> <span class="token_name">TypeError</span><span class="token_op">:</span>
    <span class="token_name">print_exc</span><span class="token_op">(</span><span class="token_op">)</span>

<span class="keyword">print</span> <span class="token_string">"\n--send the wrong rank --\n"</span>
<span class="token_name">theArray</span><span class="token_op">=</span><span class="token_name">numpy</span><span class="token_op">.</span><span class="token_name">array</span><span class="token_op">(</span><span class="token_op">[</span><span class="token_number">1</span><span class="token_op">,</span><span class="token_number">2</span><span class="token_op">,</span><span class="token_number">3</span><span class="token_op">,</span><span class="token_number">4</span><span class="token_op">]</span><span class="token_op">,</span><span class="token_name">dtype</span><span class="token_op">=</span><span class="token_name">float</span><span class="token_op">)</span>
<span class="keyword">try</span><span class="token_op">:</span>
    <span class="token_name">simple_ext</span><span class="token_op">.</span><span class="token_name">testFromPython</span><span class="token_op">(</span><span class="token_name">theArray</span><span class="token_op">)</span>
<span class="keyword">except</span> <span class="token_name">RuntimeError</span><span class="token_op">:</span>
    <span class="token_name">print_exc</span><span class="token_op">(</span><span class="token_op">)</span>


<span class="keyword">print</span> <span class="token_string">"\n--print docstrings --\n"</span>
<span class="keyword">print</span> <span class="token_string">"\nmodule rcsid:%s\n "</span> <span class="token_op">%</span> <span class="token_name">simple_ext</span><span class="token_op">.</span><span class="token_name">RCSID</span>
<span class="keyword">print</span> <span class="token_name">simple_ext</span><span class="token_op">.</span><span class="token_name">__doc__</span>
<span class="keyword">print</span> <span class="token_name">simple_ext</span><span class="token_op">.</span><span class="token_name">testToPython</span><span class="token_op">.</span><span class="token_name">__doc__</span>
<span class="keyword">print</span> <span class="token_name">simple_ext</span><span class="token_op">.</span><span class="token_name">testFromPython</span><span class="token_op">.</span><span class="token_name">__doc__</span><span class="text"></span></code></pre>

	</body>
</html>