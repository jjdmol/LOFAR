-- This file was generated by genDBsql v1.6 on Tue Mar 16 10:45:06 CET 2004
-- with the command: genDBsql P Transport.plmap
-- from the directory: /home/loose/LOFAR/LCS/databases/PL/demo
--
-- EDITING THIS FILE MANUALLY IS AT YOUR OWN RISK
-- IT MIGHT BE OVERWRITTEN THE NEXT TIME YOU RUN genDBsql
--
-- This file creates the databasetable for class Engine
--
-- WARNING: THE TABLE IS DROPPED BEFORE CREATION!!!
--
drop table Engine;
create table Engine (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL,
	VOLUME	FLOAT
);

CREATE TRIGGER EngineUpdateVersionNr BEFORE INSERT OR UPDATE ON Engine
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table GasEngine;
create table GasEngine (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL,
	VALVECOUNT	INTEGER
);

CREATE TRIGGER GasEngineUpdateVersionNr BEFORE INSERT OR UPDATE ON GasEngine
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table DieselEngine;
create table DieselEngine (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL,
	TURBOCHARGED	SMALLINT
);

CREATE TRIGGER DieselEngineUpdateVersionNr BEFORE INSERT OR UPDATE ON DieselEngine
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table Vehicle;
create table Vehicle (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL,
	WHEELCOUNT	INTEGER,
	MAKE	TEXT
);

CREATE TRIGGER VehicleUpdateVersionNr BEFORE INSERT OR UPDATE ON Vehicle
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table MotorCycle;
create table MotorCycle (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL
);

CREATE TRIGGER MotorCycleUpdateVersionNr BEFORE INSERT OR UPDATE ON MotorCycle
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table Tractor;
create table Tractor (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL
);

CREATE TRIGGER TractorUpdateVersionNr BEFORE INSERT OR UPDATE ON Tractor
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

