#!/bin/bash
#
# This script simply starts the interactive PyBDSM
# IPython shell.

# Check whether called from CEPI/II. If so, init
# the Python libraries before calling PyBDSM.
if [ $APS_LOCAL ]; then
    . ${APS_LOCAL}/login/alias.bash
    use Pythonlibs
fi

# Add the PyBDSM libraries to the relevant paths.
if [ `uname` == "Darwin" ]; then
    DYLD_FALLBACK_LIBRARY_PATH=@CMAKE_INSTALL_PREFIX@/@LOFAR_LIBDIR@${DYLD_FALLBACK_LIBRARY_PATH:+:${DYLD_FALLBACK_LIBRARY_PATH}}
else
    LD_LIBRARY_PATH=${LD_LIBRARY_PATH:+${LD_LIBRARY_PATH}:}@CMAKE_INSTALL_PREFIX@/@LOFAR_LIBDIR@
fi
PYTHONPATH=${PYTHONPATH:+${PYTHONPATH}:}@PYTHON_INSTALL_DIR@

# And execute pybdsm.py.
exec @PYTHON_EXECUTABLE@ @PYTHON_INSTALL_DIR@/lofar/bdsm/pybdsm.py
