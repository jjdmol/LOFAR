-- This file was generated by genDBsql v1.6 on Tue Mar 16 09:58:29 CET 2004
-- with the command: genDBsql P Transport.plmap.1
-- from the directory: /home/loose/LOFAR/LCS/databases/PL/demo
--
-- EDITING THIS FILE MANUALLY IS AT YOUR OWN RISK
-- IT MIGHT BE OVERWRITTEN THE NEXT TIME YOU RUN genDBsql
--
-- This file creates the databasetable for class Engine
--
-- WARNING: THE TABLE IS DROPPED BEFORE CREATION!!!
--
drop table Motor;
create table Motor (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL,
	INHOUD	FLOAT
);

CREATE TRIGGER MotorUpdateVersionNr BEFORE INSERT OR UPDATE ON Motor
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table BenzineMotor;
create table BenzineMotor (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL,
	KLEPPEN	INTEGER
);

CREATE TRIGGER BenzineMotorUpdateVersionNr BEFORE INSERT OR UPDATE ON BenzineMotor
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table DieselMotor;
create table DieselMotor (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL,
	TURBO	SMALLINT
);

CREATE TRIGGER DieselMotorUpdateVersionNr BEFORE INSERT OR UPDATE ON DieselMotor
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table Voertuig;
create table Voertuig (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL,
	WIELEN	INTEGER,
	MERK	TEXT
);

CREATE TRIGGER VoertuigUpdateVersionNr BEFORE INSERT OR UPDATE ON Voertuig
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table Motorfiets;
create table Motorfiets (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL
);

CREATE TRIGGER MotorfietsUpdateVersionNr BEFORE INSERT OR UPDATE ON Motorfiets
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

drop table Traktor;
create table Traktor (
	ObjId		BIGINT		NOT NULL UNIQUE PRIMARY KEY,
	Owner		BIGINT		NOT	NULL,
	VersionNr	INTEGER		NOT NULL
);

CREATE TRIGGER TraktorUpdateVersionNr BEFORE INSERT OR UPDATE ON Traktor
FOR EACH ROW EXECUTE PROCEDURE UpdateVersionNr();

